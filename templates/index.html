<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <title>üì∞ E-con News - Tin T·ª©c T√†i Ch√≠nh</title>
    
    <!-- SEO & Social Meta -->
    <meta name="description" content="E-con News - C·ªïng th√¥ng tin t√†i ch√≠nh, kinh t·∫ø h√†ng ƒë·∫ßu v·ªõi giao di·ªán hi·ªán ƒë·∫°i theo phong c√°ch b√°o Ti·ªÅn Phong">
    <meta name="keywords" content="tin t·ª©c t√†i ch√≠nh, ch·ª©ng kho√°n, kinh t·∫ø, b√°o Ti·ªÅn Phong, E-con News">
    <meta name="author" content="E-con News Portal">
    <meta name="robots" content="index, follow">
    
    <!-- Mobile App Experience -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="E-con News">
    <meta name="theme-color" content="#dc2626">
    <meta name="msapplication-navbutton-color" content="#dc2626">
    
    <!-- Fonts - Combining Serif for Headlines with Sans-serif for Content -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="{{ url_for('static', filename='tien-phong-style.css') }}">
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üì∞</text></svg>">
</head>
<body>
    <!-- E-con News App Container -->
    <div class="tp-app">
        <!-- Header - Ti·ªÅn Phong Style -->
        <header class="tp-header">
            <div class="tp-header-container">
                <!-- Logo Section -->
                <div class="tp-logo-section">
                    <a href="/" class="tp-logo">
                        <div class="tp-logo-icon">üì∞</div>
                        <div class="tp-logo-text">
                            <h1 class="tp-logo-main">E-con News</h1>
                            <p class="tp-logo-subtitle">Tin T·ª©c T√†i Ch√≠nh</p>
                        </div>
                    </a>
                    
                    <!-- Current Date & Time -->
                    <div class="tp-date-section">
                        <div class="tp-current-date" id="tpCurrentDate">Th·ª© Ba, 10/06/2025</div>
                        <div class="tp-current-time" id="tpCurrentTime">23:10</div>
                    </div>
                </div>

                <!-- Navigation Menu -->
                <nav class="tp-nav">
                    <a href="#" class="tp-nav-item active" data-category="all">TRANG CH·ª¶</a>
                    <a href="#" class="tp-nav-item" data-category="stocks">CH·ª®NG KHO√ÅN</a>
                    <a href="#" class="tp-nav-item" data-category="business">DOANH NGHI·ªÜP</a>
                    <a href="#" class="tp-nav-item" data-category="finance">T√ÄI CH√çNH</a>
                    <a href="#" class="tp-nav-item" data-category="realestate">B·∫§T ƒê·ªòNG S·∫¢N</a>
                    <a href="#" class="tp-nav-item" data-category="world">TH·∫æ GI·ªöI</a>
                </nav>

                <!-- Search & Tools -->
                <div class="tp-tools">
                    <div class="tp-search-container">
                        <input type="search" class="tp-search-input" placeholder="T√¨m ki·∫øm tin t·ª©c...">
                        <button class="tp-search-btn">üîç</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Layout - Full Width -->
        <div class="tp-layout">
            <!-- Sidebar - Ti·ªÅn Phong Style -->
            <aside class="tp-sidebar">
                <!-- CH·ª®NG KHO√ÅN -->
                <div class="tp-sidebar-section">
                    <h3 class="tp-sidebar-title">üìà CH·ª®NG KHO√ÅN</h3>
                    <ul class="tp-category-list">
                        <li class="tp-category-item">
                            <a href="#" class="tp-category-link active" data-category="all">
                                <span class="tp-category-icon">üåç</span>
                                <span>T·∫•t c·∫£ tin t·ª©c</span>
                            </a>
                        </li>
                        <li class="tp-category-item">
                            <a href="#" class="tp-category-link" data-category="domestic">
                                <span class="tp-category-icon">üáªüá≥</span>
                                <span>Th·ªã tr∆∞·ªùng trong n∆∞·ªõc</span>
                            </a>
                        </li>
                        <li class="tp-category-item">
                            <a href="#" class="tp-category-link" data-category="international">
                                <span class="tp-category-icon">üåê</span>
                                <span>Th·ªã tr∆∞·ªùng qu·ªëc t·∫ø</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- DOANH NGHI·ªÜP -->
                <div class="tp-sidebar-section">
                    <h3 class="tp-sidebar-title">üè¢ DOANH NGHI·ªÜP</h3>
                    <ul class="tp-category-list">
                        <li class="tp-category-item">
                            <a href="#" class="tp-category-link" data-category="business">
                                <span class="tp-category-icon">üè≠</span>
                                <span>Tin doanh nghi·ªáp</span>
                            </a>
                        </li>
                        <li class="tp-category-item">
                            <a href="#" class="tp-category-link" data-category="earnings">
                                <span class="tp-category-icon">üí∞</span>
                                <span>K·∫øt qu·∫£ kinh doanh</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- T√ÄI CH√çNH -->
                <div class="tp-sidebar-section">
                    <h3 class="tp-sidebar-title">üí≥ T√ÄI CH√çNH</h3>
                    <ul class="tp-category-list">
                        <li class="tp-category-item">
                            <a href="#" class="tp-category-link" data-category="finance">
                                <span class="tp-category-icon">üè¶</span>
                                <span>T√†i ch√≠nh - Ng√¢n h√†ng</span>
                            </a>
                        </li>
                        <li class="tp-category-item">
                            <a href="#" class="tp-category-link" data-category="crypto">
                                <span class="tp-category-icon">‚Çø</span>
                                <span>Ti·ªÅn s·ªë</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- B·∫§T ƒê·ªòNG S·∫¢N -->
                <div class="tp-sidebar-section">
                    <h3 class="tp-sidebar-title">üè† B·∫§T ƒê·ªòNG S·∫¢N</h3>
                    <ul class="tp-category-list">
                        <li class="tp-category-item">
                            <a href="#" class="tp-category-link" data-category="realestate">
                                <span class="tp-category-icon">üèòÔ∏è</span>
                                <span>Th·ªã tr∆∞·ªùng BƒêS</span>
                            </a>
                        </li>
                        <li class="tp-category-item">
                            <a href="#" class="tp-category-link" data-category="projects">
                                <span class="tp-category-icon">üèóÔ∏è</span>
                                <span>D·ª± √°n</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- C√îNG C·ª§ -->
                <div class="tp-sidebar-section">
                    <h3 class="tp-sidebar-title">‚ö° C√îNG C·ª§</h3>
                    <ul class="tp-category-list">
                        <li class="tp-category-item">
                            <a href="#" class="tp-category-link" onclick="tienPhongPortal.openChatWindow(); return false;">
                                <span class="tp-category-icon">ü§ñ</span>
                                <span>AI Ph√¢n t√≠ch</span>
                            </a>
                        </li>
                        <li class="tp-category-item">
                            <a href="#" class="tp-category-link" onclick="tienPhongPortal.loadNews(tienPhongPortal.currentCategory, 1); return false;">
                                <span class="tp-category-icon">üîÑ</span>
                                <span>L√†m m·ªõi</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </aside>

            <!-- Main Content Area -->
            <main class="tp-main-content">
                <!-- Content Header -->
                <div class="tp-content-header">
                    <h1 class="tp-content-title">Tin T·ª©c T√†i Ch√≠nh - Ch·ª©ng Kho√°n</h1>
                    <p class="tp-content-subtitle">C·∫≠p nh·∫≠t m·ªõi nh·∫•t t·ª´ th·ªã tr∆∞·ªùng t√†i ch√≠nh Vi·ªát Nam v√† th·∫ø gi·ªõi</p>
                </div>

                <!-- Filter Tabs -->
                <div class="tp-filter-tabs">
                    <a href="#" class="tp-filter-tab active" data-type="all">T·∫•t c·∫£</a>
                    <a href="#" class="tp-filter-tab" data-type="domestic">Trong n∆∞·ªõc</a>
                    <a href="#" class="tp-filter-tab" data-type="international">Qu·ªëc t·∫ø</a>
                    <a href="#" class="tp-filter-tab" data-type="hot">N·ªïi b·∫≠t</a>
                </div>

                <!-- News Content -->
                <div class="tp-news-content">
                    <!-- Loading State -->
                    <div class="tp-loading" id="tpLoadingContainer">
                        <div class="tp-spinner"></div>
                        <p class="tp-loading-text">ƒêang t·∫£i tin t·ª©c...</p>
                    </div>

                    <!-- News Grid -->
                    <div class="tp-news-grid" id="tpNewsGrid" style="display: none;">
                        <!-- News items will be dynamically loaded here -->
                    </div>

                    <!-- Pagination -->
                    <div class="tp-pagination" id="tpPaginationContainer" style="display: none;">
                        <button class="tp-pagination-btn" id="tpPrevPageBtn">
                            ‚Üê Trang tr∆∞·ªõc
                        </button>
                        <div class="tp-pagination-info">
                            <span class="tp-pagination-current">1</span>
                            <span>/</span>
                            <span class="tp-pagination-total">1</span>
                        </div>
                        <button class="tp-pagination-btn" id="tpNextPageBtn">
                            Trang sau ‚Üí
                        </button>
                    </div>
                </div>
            </main>
        </div>

        <!-- iPad/iOS Style Article Modal -->
        <div class="tp-article-modal" id="tpArticleModal" style="display: none;">
            <div class="tp-article-container">
                <div class="tp-article-header">
                    <h2 class="tp-article-title" id="tpArticleTitle"></h2>
                    <button class="tp-close-btn" id="tpCloseBtn">√ó</button>
                </div>
                
                <div class="tp-article-meta">
                    <span class="tp-article-source" id="tpArticleSource"></span>
                    <span class="tp-article-time" id="tpArticleTime"></span>
                    <a href="#" class="tp-article-link" id="tpArticleLink" target="_blank" rel="noopener noreferrer">
                        üîó ƒê·ªçc b√†i g·ªëc
                    </a>
                </div>
                
                <div class="tp-article-content" id="tpArticleContent">
                    <!-- Article content will be loaded here -->
                </div>
            </div>
        </div>

        <!-- iOS Style Floating Chat Widget -->
        <div class="tp-floating-chat" id="tpFloatingChat">
            <!-- Chat Bubble (Minimized State) -->
            <div class="tp-chat-bubble" id="tpChatBubble">
                <div class="tp-chat-bubble-avatar">
                    <span>ü§ñ</span>
                    <div class="tp-chat-bubble-pulse"></div>
                </div>
                <div class="tp-chat-bubble-text">
                    <div class="tp-chat-bubble-title">AI Assistant</div>
                    <div class="tp-chat-bubble-subtitle">H·ªèi t√¥i v·ªÅ b√†i b√°o!</div>
                </div>
            </div>

            <!-- Chat Window (Maximized State) -->
            <div class="tp-chat-window" id="tpChatWindow" style="display: none;">
                <!-- Chat Header -->
                <div class="tp-chat-header">
                    <div class="tp-chat-avatar">ü§ñ</div>
                    <div class="tp-chat-info">
                        <div class="tp-chat-title">AI Assistant</div>
                        <div class="tp-chat-status">Online</div>
                    </div>
                    <div class="tp-chat-actions">
                        <button class="tp-chat-minimize" id="tpChatMinimize">‚àí</button>
                        <button class="tp-chat-close" id="tpChatClose">√ó</button>
                    </div>
                </div>

                <!-- Chat Messages -->
                <div class="tp-chat-messages" id="tpChatMessages">
                    <div class="tp-message tp-message-ai">
                        <div class="tp-message-bubble">
                            Xin ch√†o! T√¥i l√† AI Assistant. H√£y h·ªèi t√¥i v·ªÅ tin t·ª©c t√†i ch√≠nh ho·∫∑c s·ª≠ d·ª•ng c√°c n√∫t b√™n d∆∞·ªõi! ü§ñ‚ú®
                        </div>
                        <div class="tp-message-time">B√¢y gi·ªù</div>
                    </div>
                </div>

                <!-- Chat Input Area -->
                <div class="tp-chat-input-area">
                    <!-- Quick Action Buttons -->
                    <div class="tp-quick-actions">
                        <button class="tp-quick-btn tp-summary-btn" id="tpSummaryBtn">
                            üìã T√≥m t·∫Øt
                        </button>
                        <button class="tp-quick-btn tp-debate-btn" id="tpDebateBtn">
                            üé≠ B√†n lu·∫≠n
                        </button>
                    </div>

                    <!-- Input Row -->
                    <div class="tp-input-row">
                        <div class="tp-input-container">
                            <textarea 
                                class="tp-chat-input" 
                                id="tpChatInput" 
                                placeholder="Tin nh·∫Øn..."
                                rows="1"
                            ></textarea>
                        </div>
                        <button class="tp-send-btn" id="tpSendBtn">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div class="tp-toast-container" id="tpToastContainer">
            <!-- Toast messages will appear here -->
        </div>
    </div>

    <!-- Enhanced JavaScript for Time Display -->
    <script>
        // Real-time clock update with Vietnamese formatting
        function updateTime() {
            const now = new Date();
            const dateStr = now.toLocaleDateString('vi-VN', {
                weekday: 'long',
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
            const timeStr = now.toLocaleTimeString('vi-VN', {
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const dateEl = document.getElementById('tpCurrentDate');
            const timeEl = document.getElementById('tpCurrentTime');
            
            if (dateEl) dateEl.textContent = dateStr;
            if (timeEl) timeEl.textContent = timeStr;
        }
        
        // Update time immediately and every minute
        updateTime();
        setInterval(updateTime, 60000);

        // Error handling
        window.addEventListener('error', function(e) {
            console.error('üö® Ti·ªÅn Phong Portal Error:', {
                message: e.message,
                filename: e.filename,
                lineno: e.lineno,
                error: e.error
            });
        });

        // Performance monitoring
        window.addEventListener('load', function() {
            if ('performance' in window) {
                const perfData = performance.getEntriesByType('navigation')[0];
                console.log('üìä Ti·ªÅn Phong Page Performance:', {
                    loadTime: Math.round(performance.now()),
                    domContentLoaded: Math.round(perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart),
                    resources: performance.getEntriesByType('resource').length
                });
            }
        });

        // Viewport handling for mobile
        function handleViewportChanges() {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }

        window.addEventListener('resize', handleViewportChanges);
        window.addEventListener('orientationchange', function() {
            setTimeout(handleViewportChanges, 100);
        });
        handleViewportChanges();

        console.log('üöÄ Ti·ªÅn Phong News Portal HTML loaded successfully!');
        console.log('üé® Theme: Classic Ti·ªÅn Phong with Modern iOS/iPadOS Elements');
        console.log('üì± Responsive design for all devices');
    </script>

    <!-- Main Application Script -->
    <script src="{{ url_for('static', filename='tien-phong-script.js') }}"></script>
</body>
</html>
