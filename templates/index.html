<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <title>üìä E-con News - VietStock Style Financial Portal</title>
    
    <!-- SEO & Social Meta -->
    <meta name="description" content="E-con News - Professional financial news portal with VietStock-style interface, 3D particles, and AI analysis.">
    <meta name="keywords" content="VietStock, financial news, stock market, AI analysis, Vietnam finance">
    <meta name="author" content="E-con News Portal">
    <meta name="robots" content="index, follow">
    
    <!-- Mobile App Experience -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="E-con News">
    <meta name="theme-color" content="#1e3a8a">
    <meta name="msapplication-navbutton-color" content="#1e3a8a">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìä</text></svg>">
    
    <style>
        /* Additional 3D particles animation */
        @keyframes particleFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.6; }
            25% { transform: translateY(-15px) rotate(90deg); opacity: 1; }
            50% { transform: translateY(-30px) rotate(180deg); opacity: 0.8; }
            75% { transform: translateY(-15px) rotate(270deg); opacity: 1; }
        }
        
        .particle-large {
            width: 4px;
            height: 4px;
            background: #06b6d4;
            border-radius: 50%;
            position: absolute;
            animation: particleFloat 12s ease-in-out infinite;
            box-shadow: 0 0 10px #06b6d4;
        }
        
        .particle-medium {
            width: 3px;
            height: 3px;
            background: #3b82f6;
            border-radius: 50%;
            position: absolute;
            animation: particleFloat 8s ease-in-out infinite;
            box-shadow: 0 0 8px #3b82f6;
        }
    </style>
</head>
<body>
    <!-- 3D Particles Background -->
    <div class="particles-container">
        <!-- Regular particles -->
        <div class="particle" style="left: 5%; top: 15%;"></div>
        <div class="particle" style="left: 15%; top: 75%;"></div>
        <div class="particle" style="left: 25%; top: 35%;"></div>
        <div class="particle" style="left: 35%; top: 55%;"></div>
        <div class="particle" style="left: 45%; top: 25%;"></div>
        <div class="particle" style="left: 55%; top: 65%;"></div>
        <div class="particle" style="left: 65%; top: 45%;"></div>
        <div class="particle" style="left: 75%; top: 85%;"></div>
        <div class="particle" style="left: 85%; top: 15%;"></div>
        <div class="particle" style="left: 95%; top: 45%;"></div>
        
        <!-- Large particles -->
        <div class="particle-large" style="left: 20%; top: 60%;"></div>
        <div class="particle-large" style="left: 60%; top: 20%;"></div>
        <div class="particle-large" style="left: 80%; top: 70%;"></div>
        
        <!-- Medium particles -->
        <div class="particle-medium" style="left: 10%; top: 40%;"></div>
        <div class="particle-medium" style="left: 40%; top: 80%;"></div>
        <div class="particle-medium" style="left: 70%; top: 10%;"></div>
        <div class="particle-medium" style="left: 90%; top: 60%;"></div>
    </div>

    <!-- E-con App Container -->
    <div class="econ-app">
        <!-- Header -->
        <header class="econ-header">
            <!-- Top Market Data Bar -->
            <div class="econ-header-top">
                <div class="container">
                    <div class="econ-market-data">
                        <div class="econ-market-item">
                            <span class="econ-market-label">VN-Index:</span>
                            <span class="econ-market-value">1,316.23</span>
                            <span class="econ-market-change positive">+0.43%</span>
                        </div>
                        <div class="econ-market-item">
                            <span class="econ-market-label">HNX-Index:</span>
                            <span class="econ-market-value">226.40</span>
                            <span class="econ-market-change negative">-0.04%</span>
                        </div>
                        <div class="econ-market-item">
                            <span class="econ-market-label">VN30:</span>
                            <span class="econ-market-value">1,404.82</span>
                            <span class="econ-market-change positive">+0.59%</span>
                        </div>
                        <div class="econ-market-item">
                            <span class="econ-market-label">USD/VND:</span>
                            <span class="econ-market-value">24,992</span>
                            <span class="econ-market-change positive">+0.02%</span>
                        </div>
                    </div>
                    <div class="econ-header-time">
                        <span id="currentTime">10:37 - 10/06/2025</span>
                    </div>
                </div>
            </div>

            <!-- Main Navigation -->
            <nav class="econ-nav">
                <div class="container">
                    <a href="/" class="econ-logo">
                        <div class="econ-logo-icon">üìä</div>
                        <span class="econ-logo-text">E-con News</span>
                    </a>

                    <div class="econ-nav-menu">
                        <a href="#" class="econ-nav-item active" data-category="all">Trang ch·ªß</a>
                        <a href="#" class="econ-nav-item" data-category="stocks">Ch·ª©ng kho√°n</a>
                        <a href="#" class="econ-nav-item" data-category="business">Doanh nghi·ªáp</a>
                        <a href="#" class="econ-nav-item" data-category="real-estate">B·∫•t ƒë·ªông s·∫£n</a>
                        <a href="#" class="econ-nav-item" data-category="finance">T√†i ch√≠nh</a>
                        <a href="#" class="econ-nav-item" data-category="macro">Vƒ© m√¥</a>
                        <a href="#" class="econ-nav-item" data-category="world">Th·∫ø gi·ªõi</a>
                    </div>

                    <div class="econ-search-container" style="display: flex; align-items: center; gap: 1rem;">
                        <input type="search" placeholder="T√¨m ki·∫øm..." style="padding: 0.5rem; border: 1px solid var(--vs-border); border-radius: var(--vs-radius-md); background: white;">
                        <button style="padding: 0.5rem 1rem; background: var(--vs-primary); color: white; border: none; border-radius: var(--vs-radius-md); cursor: pointer;">üîç</button>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Main Layout -->
        <div class="econ-layout">
            <!-- Sidebar - Panel theo Lƒ©nh v·ª±c -->
            <aside class="econ-sidebar">
                <!-- Ch·ª©ng kho√°n -->
                <div class="econ-sidebar-section">
                    <h3 class="econ-sidebar-title">üìà Ch·ª©ng kho√°n</h3>
                    <ul class="econ-category-list">
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link active" data-category="all">
                                <span class="econ-category-icon">üåç</span>
                                <span>T·∫•t c·∫£ tin t·ª©c</span>
                            </a>
                        </li>
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="domestic">
                                <span class="econ-category-icon">üáªüá≥</span>
                                <span>Th·ªã tr∆∞·ªùng trong n∆∞·ªõc</span>
                            </a>
                        </li>
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="international">
                                <span class="econ-category-icon">üåê</span>
                                <span>Th·ªã tr∆∞·ªùng qu·ªëc t·∫ø</span>
                            </a>
                        </li>
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="derivatives">
                                <span class="econ-category-icon">üìä</span>
                                <span>Ph√°i sinh</span>
                            </a>
                        </li>
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="analysis">
                                <span class="econ-category-icon">üîç</span>
                                <span>Ph√¢n t√≠ch</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Doanh nghi·ªáp -->
                <div class="econ-sidebar-section">
                    <h3 class="econ-sidebar-title">üè¢ Doanh nghi·ªáp</h3>
                    <ul class="econ-category-list">
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="companies">
                                <span class="econ-category-icon">üè≠</span>
                                <span>Tin doanh nghi·ªáp</span>
                            </a>
                        </li>
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="earnings">
                                <span class="econ-category-icon">üí∞</span>
                                <span>K·∫øt qu·∫£ kinh doanh</span>
                            </a>
                        </li>
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="mergers">
                                <span class="econ-category-icon">ü§ù</span>
                                <span>M&A</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- T√†i ch√≠nh -->
                <div class="econ-sidebar-section">
                    <h3 class="econ-sidebar-title">üí≥ T√†i ch√≠nh</h3>
                    <ul class="econ-category-list">
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="banking">
                                <span class="econ-category-icon">üè¶</span>
                                <span>Ng√¢n h√†ng</span>
                            </a>
                        </li>
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="fintech">
                                <span class="econ-category-icon">üíª</span>
                                <span>Fintech</span>
                            </a>
                        </li>
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="crypto">
                                <span class="econ-category-icon">‚Çø</span>
                                <span>Ti·ªÅn s·ªë</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- B·∫•t ƒë·ªông s·∫£n -->
                <div class="econ-sidebar-section">
                    <h3 class="econ-sidebar-title">üè† B·∫•t ƒë·ªông s·∫£n</h3>
                    <ul class="econ-category-list">
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="real-estate">
                                <span class="econ-category-icon">üèòÔ∏è</span>
                                <span>Th·ªã tr∆∞·ªùng BƒêS</span>
                            </a>
                        </li>
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" data-category="projects">
                                <span class="econ-category-icon">üèóÔ∏è</span>
                                <span>D·ª± √°n</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- C√¥ng c·ª• nhanh -->
                <div class="econ-sidebar-section">
                    <h3 class="econ-sidebar-title">‚ö° C√¥ng c·ª•</h3>
                    <ul class="econ-category-list">
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" onclick="vietStockPortal.openChatWindow(); return false;">
                                <span class="econ-category-icon">ü§ñ</span>
                                <span>AI Ph√¢n t√≠ch</span>
                            </a>
                        </li>
                        <li class="econ-category-item">
                            <a href="#" class="econ-category-link" onclick="vietStockPortal.loadNews(vietStockPortal.currentCategory, 1); return false;">
                                <span class="econ-category-icon">üîÑ</span>
                                <span>L√†m m·ªõi</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="econ-main-content">
                <!-- Content Header -->
                <div class="econ-content-header">
                    <h1 class="econ-content-title">Tin t·ª©c t√†i ch√≠nh - ch·ª©ng kho√°n</h1>
                    <p class="econ-content-subtitle">C·∫≠p nh·∫≠t m·ªõi nh·∫•t t·ª´ th·ªã tr∆∞·ªùng t√†i ch√≠nh Vi·ªát Nam v√† th·∫ø gi·ªõi</p>
                </div>

                <!-- Filter Tabs -->
                <div class="econ-filter-tabs">
                    <a href="#" class="econ-filter-tab active" data-type="all">T·∫•t c·∫£</a>
                    <a href="#" class="econ-filter-tab" data-type="domestic">Trong n∆∞·ªõc</a>
                    <a href="#" class="econ-filter-tab" data-type="international">Qu·ªëc t·∫ø</a>
                    <a href="#" class="econ-filter-tab" data-type="hot">N·ªïi b·∫≠t</a>
                    <a href="#" class="econ-filter-tab" data-type="analysis">Ph√¢n t√≠ch</a>
                </div>

                <!-- News Content -->
                <div class="econ-news-content">
                    <!-- Loading State -->
                    <div class="econ-loading" id="econLoadingContainer">
                        <div class="econ-spinner"></div>
                        <p class="econ-loading-text">ƒêang t·∫£i tin t·ª©c...</p>
                    </div>

                    <!-- News Grid -->
                    <div class="econ-news-grid" id="econNewsGrid" style="display: none;">
                        <!-- News items will be dynamically loaded here -->
                    </div>

                    <!-- Pagination -->
                    <div class="econ-pagination" id="econPaginationContainer" style="display: none;">
                        <button class="econ-pagination-btn" id="econPrevPageBtn">
                            ‚Üê Trang tr∆∞·ªõc
                        </button>
                        <div class="econ-pagination-info">
                            <span class="econ-pagination-current">1</span>
                            <span>/</span>
                            <span class="econ-pagination-total">1</span>
                        </div>
                        <button class="econ-pagination-btn" id="econNextPageBtn">
                            Trang sau ‚Üí
                        </button>
                    </div>
                </div>
            </main>
        </div>

        <!-- iPad-style Article Modal -->
        <div class="econ-article-modal" id="econArticleModal" style="display: none;">
            <div class="econ-article-container">
                <div class="econ-article-header">
                    <h2 class="econ-article-title" id="econArticleTitle"></h2>
                    <button class="econ-close-btn" id="econCloseBtn">√ó</button>
                </div>
                
                <div class="econ-article-meta">
                    <span class="econ-article-source" id="econArticleSource"></span>
                    <span class="econ-article-time" id="econArticleTime"></span>
                    <a href="#" class="econ-article-link" id="econArticleLink" target="_blank" rel="noopener noreferrer">
                        üîó ƒê·ªçc b√†i g·ªëc
                    </a>
                </div>
                
                <div class="econ-article-content" id="econArticleContent">
                    <!-- Article content will be loaded here -->
                </div>
            </div>
        </div>

        <!-- iPhone-style Floating Chat Widget -->
        <div class="econ-floating-chat" id="econFloatingChat">
            <!-- Chat Bubble (Minimized State) -->
            <div class="econ-chat-bubble" id="econChatBubble">
                <div class="econ-chat-bubble-avatar">
                    <span>ü§ñ</span>
                    <div class="econ-chat-bubble-pulse"></div>
                </div>
                <div class="econ-chat-bubble-text">
                    <div class="econ-chat-bubble-title">AI Assistant</div>
                    <div class="econ-chat-bubble-subtitle">H·ªèi t√¥i v·ªÅ b√†i b√°o!</div>
                </div>
            </div>

            <!-- Chat Window (Maximized State) -->
            <div class="econ-chat-window" id="econChatWindow" style="display: none;">
                <!-- Chat Header -->
                <div class="econ-chat-header">
                    <div class="econ-chat-avatar">ü§ñ</div>
                    <div class="econ-chat-info">
                        <div class="econ-chat-title">AI Assistant</div>
                        <div class="econ-chat-status">Online</div>
                    </div>
                    <div class="econ-chat-actions">
                        <button class="econ-chat-minimize" id="econChatMinimize">‚àí</button>
                        <button class="econ-chat-close" id="econChatClose">√ó</button>
                    </div>
                </div>

                <!-- Chat Messages -->
                <div class="econ-chat-messages" id="econChatMessages">
                    <div class="econ-message econ-message-ai">
                        <div class="econ-message-bubble">
                            Xin ch√†o! T√¥i l√† AI Assistant. H√£y h·ªèi t√¥i v·ªÅ tin t·ª©c t√†i ch√≠nh ho·∫∑c s·ª≠ d·ª•ng c√°c n√∫t b√™n d∆∞·ªõi! ü§ñ‚ú®
                        </div>
                        <div class="econ-message-time">B√¢y gi·ªù</div>
                    </div>
                </div>

                <!-- Chat Input Area -->
                <div class="econ-chat-input-area">
                    <!-- Quick Action Buttons -->
                    <div class="econ-quick-actions">
                        <button class="econ-quick-btn econ-summary-btn" id="econSummaryBtn">
                            üìã T√≥m t·∫Øt
                        </button>
                        <button class="econ-quick-btn econ-debate-btn" id="econDebateBtn">
                            üé≠ B√†n lu·∫≠n
                        </button>
                    </div>

                    <!-- Input Row -->
                    <div class="econ-input-row">
                        <div class="econ-input-container">
                            <textarea 
                                class="econ-chat-input" 
                                id="econChatInput" 
                                placeholder="Tin nh·∫Øn..."
                                rows="1"
                            ></textarea>
                        </div>
                        <button class="econ-send-btn" id="econSendBtn">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div class="econ-toast-container" id="econToastContainer">
            <!-- Toast messages will appear here -->
        </div>
    </div>

    <!-- Enhanced JavaScript for performance -->
    <script>
        // Real-time clock update
        function updateTime() {
            const now = new Date();
            const timeStr = now.toLocaleString('vi-VN', {
                hour: '2-digit',
                minute: '2-digit',
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
            const timeEl = document.getElementById('currentTime');
            if (timeEl) {
                timeEl.textContent = timeStr.replace(',', ' -');
            }
        }
        
        // Update time every minute
        updateTime();
        setInterval(updateTime, 60000);

        // Enhanced error handling
        window.addEventListener('error', function(e) {
            console.error('üö® Global VietStock Error:', {
                message: e.message,
                filename: e.filename,
                lineno: e.lineno,
                error: e.error
            });
        });

        // Performance monitoring
        window.addEventListener('load', function() {
            if ('performance' in window) {
                const perfData = performance.getEntriesByType('navigation')[0];
                console.log('üìä VietStock Page Performance:', {
                    loadTime: Math.round(performance.now()),
                    domContentLoaded: Math.round(perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart),
                    resources: performance.getEntriesByType('resource').length
                });
            }
        });

        // Viewport handling for mobile
        function handleViewportChanges() {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }

        window.addEventListener('resize', handleViewportChanges);
        window.addEventListener('orientationchange', function() {
            setTimeout(handleViewportChanges, 100);
        });
        handleViewportChanges();

        console.log('üöÄ VietStock News Portal HTML loaded successfully!');
        console.log('üé® Theme: VietStock Professional with 3D Particles');
        console.log('üì± Optimized for all devices with 0.5s animations');
    </script>

    <!-- Main Application Script -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
